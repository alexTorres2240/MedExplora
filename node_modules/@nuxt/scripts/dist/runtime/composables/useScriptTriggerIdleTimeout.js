import { tryOnScopeDispose } from "@vueuse/shared";
import { useTimeoutFn } from "@vueuse/core";
import { onNuxtReady } from "nuxt/app";
export function useScriptTriggerIdleTimeout(options) {
  if (import.meta.server) {
    return new Promise(() => {
    });
  }
  const { timeout } = options;
  return new Promise((resolve) => {
    onNuxtReady(() => {
      const { start, stop } = useTimeoutFn(() => {
        resolve(true);
      }, timeout, { immediate: false });
      start();
      tryOnScopeDispose(() => {
        stop();
        resolve(false);
      });
    });
  });
}
